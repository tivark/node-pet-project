[{"E:\\nodejs\\pet-project\\backend\\src\\app.ts":"1"},{"size":1367,"mtime":1628338247640,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","errorCount":98,"warningCount":2,"fixableErrorCount":95,"fixableWarningCount":0,"source":"6"},"191i17e","E:\\nodejs\\pet-project\\backend\\src\\app.ts",["7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106"],"const express = require(\"express\");\r\nconst mongoose = require(\"mongoose\");\r\nconst { Schema } = mongoose;\r\nconst jsonParser = express.json();\r\nrequire('dotenv').config();\r\n\r\nconst userSchema = new Schema({\r\n  login: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  role: {\r\n    type: String,\r\n    enum: [ \"admin\", \"user\" ],\r\n    default: \"user\"\r\n  }\r\n}, { versionKey: false });\r\n\r\nconst app = express();\r\nconst port = process.env.PORT || 3000;\r\n\r\nconst connectionOptions = {\r\n  useNewUrlParser: true,\r\n  useUnifiedTopology: true\r\n}\r\n\r\nmongoose.connect(process.env.DB_URL, connectionOptions, (error) => {\r\n  if (error) {\r\n    return console.log(error);\r\n  }\r\n\r\n  app.listen(port);\r\n});\r\n\r\n\r\nconst User = mongoose.model(\"User\", userSchema);\r\n\r\napp.post('/users/create', (req, res) => {\r\n  console.log('run');\r\n  res.end(process.env.DB_URL);\r\n});\r\n\r\napp.post('/login');\r\n\r\napp.post('/register', jsonParser, async (request, response) => {\r\n\r\n  const { body }  = request;\r\n\r\n  if (!body) {\r\n    response.sendStatus(400);\r\n  }\r\n\r\n  const { login, password } = body;\r\n\r\n  const loginRegexp = new RegExp(login, 'i');\r\n  const result = await User.find({login: loginRegexp});\r\n\r\n  if(result.length){\r\n    response.status(400).send({error: 'user already exist'});\r\n  }else{\r\n    response.sendStatus(200);\r\n  }\r\n\r\n});\r\n",{"ruleId":"107","severity":2,"message":"108","line":1,"column":25,"nodeType":"109","endLine":1,"endColumn":34,"fix":"110"},{"ruleId":"111","severity":2,"message":"112","line":1,"column":36,"nodeType":"113","messageId":"114","fix":"115"},{"ruleId":"116","severity":2,"message":"117","line":2,"column":1,"nodeType":null,"fix":"118"},{"ruleId":"107","severity":2,"message":"108","line":2,"column":26,"nodeType":"109","endLine":2,"endColumn":36,"fix":"119"},{"ruleId":"111","severity":2,"message":"112","line":2,"column":38,"nodeType":"113","messageId":"114","fix":"120"},{"ruleId":"111","severity":2,"message":"112","line":3,"column":29,"nodeType":"113","messageId":"114","fix":"121"},{"ruleId":"111","severity":2,"message":"112","line":4,"column":35,"nodeType":"113","messageId":"114","fix":"122"},{"ruleId":"123","severity":2,"message":"124","line":5,"column":1,"nodeType":"125","endLine":5,"endColumn":18},{"ruleId":"111","severity":2,"message":"112","line":5,"column":28,"nodeType":"113","messageId":"114","fix":"126"},{"ruleId":"111","severity":2,"message":"112","line":6,"column":1,"nodeType":"113","messageId":"114","fix":"127"},{"ruleId":"111","severity":2,"message":"112","line":7,"column":32,"nodeType":"113","messageId":"114","fix":"128"},{"ruleId":"111","severity":2,"message":"112","line":8,"column":11,"nodeType":"113","messageId":"114","fix":"129"},{"ruleId":"111","severity":2,"message":"112","line":9,"column":18,"nodeType":"113","messageId":"114","fix":"130"},{"ruleId":"111","severity":2,"message":"112","line":10,"column":19,"nodeType":"113","messageId":"114","fix":"131"},{"ruleId":"132","severity":2,"message":"133","line":10,"column":19,"nodeType":"134","messageId":"135","fix":"136"},{"ruleId":"111","severity":2,"message":"112","line":11,"column":5,"nodeType":"113","messageId":"114","fix":"137"},{"ruleId":"111","severity":2,"message":"112","line":12,"column":14,"nodeType":"113","messageId":"114","fix":"138"},{"ruleId":"111","severity":2,"message":"112","line":13,"column":18,"nodeType":"113","messageId":"114","fix":"139"},{"ruleId":"111","severity":2,"message":"112","line":14,"column":19,"nodeType":"113","messageId":"114","fix":"140"},{"ruleId":"132","severity":2,"message":"133","line":14,"column":19,"nodeType":"134","messageId":"135","fix":"141"},{"ruleId":"111","severity":2,"message":"112","line":15,"column":5,"nodeType":"113","messageId":"114","fix":"142"},{"ruleId":"111","severity":2,"message":"112","line":16,"column":10,"nodeType":"113","messageId":"114","fix":"143"},{"ruleId":"111","severity":2,"message":"112","line":17,"column":18,"nodeType":"113","messageId":"114","fix":"144"},{"ruleId":"145","severity":2,"message":"146","line":18,"column":11,"nodeType":"147","messageId":"148","fix":"149"},{"ruleId":"107","severity":2,"message":"108","line":18,"column":13,"nodeType":"109","endLine":18,"endColumn":20,"fix":"150"},{"ruleId":"107","severity":2,"message":"108","line":18,"column":22,"nodeType":"109","endLine":18,"endColumn":28,"fix":"151"},{"ruleId":"145","severity":2,"message":"152","line":18,"column":29,"nodeType":"147","messageId":"153","fix":"154"},{"ruleId":"111","severity":2,"message":"112","line":18,"column":31,"nodeType":"113","messageId":"114","fix":"155"},{"ruleId":"107","severity":2,"message":"108","line":19,"column":14,"nodeType":"109","endLine":19,"endColumn":20,"fix":"156"},{"ruleId":"111","severity":2,"message":"112","line":19,"column":20,"nodeType":"113","messageId":"114","fix":"157"},{"ruleId":"132","severity":2,"message":"133","line":19,"column":20,"nodeType":"134","messageId":"135","fix":"158"},{"ruleId":"111","severity":2,"message":"112","line":20,"column":4,"nodeType":"113","messageId":"114","fix":"159"},{"ruleId":"132","severity":2,"message":"133","line":20,"column":4,"nodeType":"134","messageId":"135","fix":"160"},{"ruleId":"111","severity":2,"message":"112","line":21,"column":27,"nodeType":"113","messageId":"114","fix":"161"},{"ruleId":"111","severity":2,"message":"112","line":22,"column":1,"nodeType":"113","messageId":"114","fix":"162"},{"ruleId":"111","severity":2,"message":"112","line":23,"column":23,"nodeType":"113","messageId":"114","fix":"163"},{"ruleId":"111","severity":2,"message":"112","line":24,"column":39,"nodeType":"113","messageId":"114","fix":"164"},{"ruleId":"111","severity":2,"message":"112","line":25,"column":1,"nodeType":"113","messageId":"114","fix":"165"},{"ruleId":"111","severity":2,"message":"112","line":26,"column":28,"nodeType":"113","messageId":"114","fix":"166"},{"ruleId":"111","severity":2,"message":"112","line":27,"column":25,"nodeType":"113","messageId":"114","fix":"167"},{"ruleId":"111","severity":2,"message":"112","line":28,"column":27,"nodeType":"113","messageId":"114","fix":"168"},{"ruleId":"132","severity":2,"message":"133","line":28,"column":27,"nodeType":"134","messageId":"135","fix":"169"},{"ruleId":"111","severity":2,"message":"112","line":29,"column":2,"nodeType":"113","messageId":"114","fix":"170"},{"ruleId":"171","severity":2,"message":"172","line":29,"column":2,"nodeType":"173","fix":"174"},{"ruleId":"111","severity":2,"message":"112","line":30,"column":1,"nodeType":"113","messageId":"114","fix":"175"},{"ruleId":"176","severity":2,"message":"177","line":31,"column":65,"nodeType":"178","messageId":"179"},{"ruleId":"111","severity":2,"message":"112","line":31,"column":69,"nodeType":"113","messageId":"114","fix":"180"},{"ruleId":"111","severity":2,"message":"112","line":32,"column":15,"nodeType":"113","messageId":"114","fix":"181"},{"ruleId":"182","severity":1,"message":"183","line":33,"column":12,"nodeType":"184","messageId":"185","endLine":33,"endColumn":23},{"ruleId":"111","severity":2,"message":"112","line":33,"column":31,"nodeType":"113","messageId":"114","fix":"186"},{"ruleId":"111","severity":2,"message":"112","line":34,"column":4,"nodeType":"113","messageId":"114","fix":"187"},{"ruleId":"111","severity":2,"message":"112","line":35,"column":1,"nodeType":"113","messageId":"114","fix":"188"},{"ruleId":"111","severity":2,"message":"112","line":36,"column":20,"nodeType":"113","messageId":"114","fix":"189"},{"ruleId":"111","severity":2,"message":"112","line":37,"column":4,"nodeType":"113","messageId":"114","fix":"190"},{"ruleId":"111","severity":2,"message":"112","line":38,"column":1,"nodeType":"113","messageId":"114","fix":"191"},{"ruleId":"192","severity":2,"message":"193","line":38,"column":1,"nodeType":"113","endLine":40,"endColumn":1,"fix":"194"},{"ruleId":"111","severity":2,"message":"112","line":39,"column":1,"nodeType":"113","messageId":"114","fix":"195"},{"ruleId":"107","severity":2,"message":"108","line":40,"column":29,"nodeType":"109","endLine":40,"endColumn":35,"fix":"196"},{"ruleId":"111","severity":2,"message":"112","line":40,"column":49,"nodeType":"113","messageId":"114","fix":"197"},{"ruleId":"111","severity":2,"message":"112","line":41,"column":1,"nodeType":"113","messageId":"114","fix":"198"},{"ruleId":"111","severity":2,"message":"112","line":42,"column":42,"nodeType":"113","messageId":"114","fix":"199"},{"ruleId":"182","severity":1,"message":"183","line":43,"column":3,"nodeType":"184","messageId":"185","endLine":43,"endColumn":14},{"ruleId":"111","severity":2,"message":"112","line":43,"column":22,"nodeType":"113","messageId":"114","fix":"200"},{"ruleId":"111","severity":2,"message":"112","line":44,"column":31,"nodeType":"113","messageId":"114","fix":"201"},{"ruleId":"111","severity":2,"message":"112","line":45,"column":4,"nodeType":"113","messageId":"114","fix":"202"},{"ruleId":"111","severity":2,"message":"112","line":46,"column":1,"nodeType":"113","messageId":"114","fix":"203"},{"ruleId":"111","severity":2,"message":"112","line":47,"column":20,"nodeType":"113","messageId":"114","fix":"204"},{"ruleId":"111","severity":2,"message":"112","line":48,"column":1,"nodeType":"113","messageId":"114","fix":"205"},{"ruleId":"206","severity":2,"message":"207","line":49,"column":64,"nodeType":"208","fix":"209"},{"ruleId":"111","severity":2,"message":"112","line":49,"column":65,"nodeType":"113","messageId":"114","fix":"210"},{"ruleId":"111","severity":2,"message":"112","line":50,"column":1,"nodeType":"113","messageId":"114","fix":"211"},{"ruleId":"212","severity":2,"message":"213","line":51,"column":19,"nodeType":"214","fix":"215"},{"ruleId":"111","severity":2,"message":"112","line":51,"column":29,"nodeType":"113","messageId":"114","fix":"216"},{"ruleId":"111","severity":2,"message":"112","line":52,"column":1,"nodeType":"113","messageId":"114","fix":"217"},{"ruleId":"111","severity":2,"message":"112","line":53,"column":15,"nodeType":"113","messageId":"114","fix":"218"},{"ruleId":"111","severity":2,"message":"112","line":54,"column":30,"nodeType":"113","messageId":"114","fix":"219"},{"ruleId":"111","severity":2,"message":"112","line":55,"column":4,"nodeType":"113","messageId":"114","fix":"220"},{"ruleId":"111","severity":2,"message":"112","line":56,"column":1,"nodeType":"113","messageId":"114","fix":"221"},{"ruleId":"222","severity":2,"message":"223","line":57,"column":18,"nodeType":"224","endLine":57,"endColumn":26},{"ruleId":"111","severity":2,"message":"112","line":57,"column":36,"nodeType":"113","messageId":"114","fix":"225"},{"ruleId":"111","severity":2,"message":"112","line":58,"column":1,"nodeType":"113","messageId":"114","fix":"226"},{"ruleId":"111","severity":2,"message":"112","line":59,"column":46,"nodeType":"113","messageId":"114","fix":"227"},{"ruleId":"228","severity":2,"message":"229","line":60,"column":34,"nodeType":"230","fix":"231"},{"ruleId":"228","severity":2,"message":"232","line":60,"column":53,"nodeType":"230","fix":"233"},{"ruleId":"111","severity":2,"message":"112","line":60,"column":56,"nodeType":"113","messageId":"114","fix":"234"},{"ruleId":"111","severity":2,"message":"112","line":61,"column":1,"nodeType":"113","messageId":"114","fix":"235"},{"ruleId":"236","severity":2,"message":"237","line":62,"column":3,"nodeType":null,"messageId":"238","fix":"239"},{"ruleId":"240","severity":2,"message":"241","line":62,"column":20,"nodeType":"208","endLine":64,"endColumn":4,"fix":"242"},{"ruleId":"111","severity":2,"message":"112","line":62,"column":21,"nodeType":"113","messageId":"114","fix":"243"},{"ruleId":"228","severity":2,"message":"229","line":63,"column":31,"nodeType":"230","fix":"244"},{"ruleId":"228","severity":2,"message":"232","line":63,"column":59,"nodeType":"230","fix":"245"},{"ruleId":"111","severity":2,"message":"112","line":63,"column":62,"nodeType":"113","messageId":"114","fix":"246"},{"ruleId":"236","severity":2,"message":"247","line":64,"column":4,"nodeType":null,"messageId":"248","fix":"249"},{"ruleId":"236","severity":2,"message":"250","line":64,"column":4,"nodeType":null,"messageId":"238","fix":"251"},{"ruleId":"111","severity":2,"message":"112","line":64,"column":9,"nodeType":"113","messageId":"114","fix":"252"},{"ruleId":"111","severity":2,"message":"112","line":65,"column":30,"nodeType":"113","messageId":"114","fix":"253"},{"ruleId":"111","severity":2,"message":"112","line":66,"column":4,"nodeType":"113","messageId":"114","fix":"254"},{"ruleId":"111","severity":2,"message":"112","line":67,"column":1,"nodeType":"113","messageId":"114","fix":"255"},{"ruleId":"206","severity":2,"message":"207","line":68,"column":1,"nodeType":"208","fix":"256"},{"ruleId":"111","severity":2,"message":"112","line":68,"column":4,"nodeType":"113","messageId":"114","fix":"257"},"quotes","Strings must use singlequote.","Literal",{"range":"258","text":"259"},"linebreak-style","Expected linebreaks to be 'LF' but found 'CRLF'.","Program","expectedLF",{"range":"260","text":"261"},"import/newline-after-import","Expected 1 empty line after require statement not followed by another require.",{"range":"262","text":"261"},{"range":"263","text":"264"},{"range":"265","text":"261"},{"range":"266","text":"261"},{"range":"267","text":"261"},"import/no-extraneous-dependencies","'dotenv' should be listed in the project's dependencies, not devDependencies.","CallExpression",{"range":"268","text":"261"},{"range":"269","text":"261"},{"range":"270","text":"261"},{"range":"271","text":"261"},{"range":"272","text":"261"},{"range":"273","text":"261"},"comma-dangle","Missing trailing comma.","Property","missing",{"range":"274","text":"275"},{"range":"276","text":"261"},{"range":"277","text":"261"},{"range":"278","text":"261"},{"range":"279","text":"261"},{"range":"280","text":"275"},{"range":"281","text":"261"},{"range":"282","text":"261"},{"range":"283","text":"261"},"array-bracket-spacing","There should be no space after '['.","ArrayExpression","unexpectedSpaceAfter",{"range":"284","text":"285"},{"range":"286","text":"287"},{"range":"288","text":"289"},"There should be no space before ']'.","unexpectedSpaceBefore",{"range":"290","text":"285"},{"range":"291","text":"261"},{"range":"292","text":"289"},{"range":"293","text":"261"},{"range":"294","text":"275"},{"range":"295","text":"261"},{"range":"296","text":"275"},{"range":"297","text":"261"},{"range":"298","text":"261"},{"range":"299","text":"261"},{"range":"300","text":"261"},{"range":"301","text":"261"},{"range":"302","text":"261"},{"range":"303","text":"261"},{"range":"304","text":"261"},{"range":"305","text":"275"},{"range":"306","text":"261"},"semi","Missing semicolon.","VariableDeclaration",{"range":"307","text":"308"},{"range":"309","text":"261"},"consistent-return","Expected to return a value at the end of arrow function.","ArrowFunctionExpression","missingReturn",{"range":"310","text":"261"},{"range":"311","text":"261"},"no-console","Unexpected console statement.","MemberExpression","unexpected",{"range":"312","text":"261"},{"range":"313","text":"261"},{"range":"314","text":"261"},{"range":"315","text":"261"},{"range":"316","text":"261"},{"range":"317","text":"261"},"no-multiple-empty-lines","More than 1 blank line not allowed.",{"range":"318","text":"285"},{"range":"319","text":"261"},{"range":"320","text":"321"},{"range":"322","text":"261"},{"range":"323","text":"261"},{"range":"324","text":"261"},{"range":"325","text":"261"},{"range":"326","text":"261"},{"range":"327","text":"261"},{"range":"328","text":"261"},{"range":"329","text":"261"},{"range":"330","text":"261"},"padded-blocks","Block must not be padded by blank lines.","BlockStatement",{"range":"331","text":"261"},{"range":"332","text":"261"},{"range":"333","text":"261"},"no-multi-spaces","Multiple spaces found before '='.","Punctuator",{"range":"334","text":"335"},{"range":"336","text":"261"},{"range":"337","text":"261"},{"range":"338","text":"261"},{"range":"339","text":"261"},{"range":"340","text":"261"},{"range":"341","text":"261"},"no-unused-vars","'password' is assigned a value but never used.","Identifier",{"range":"342","text":"261"},{"range":"343","text":"261"},{"range":"344","text":"261"},"object-curly-spacing","A space is required after '{'.","ObjectExpression",{"range":"345","text":"335"},"A space is required before '}'.",{"range":"346","text":"335"},{"range":"347","text":"261"},{"range":"348","text":"261"},"keyword-spacing","Expected space(s) after \"if\".","expectedAfter",{"range":"349","text":"335"},"space-before-blocks","Missing space before opening brace.",{"range":"350","text":"335"},{"range":"351","text":"261"},{"range":"352","text":"335"},{"range":"353","text":"335"},{"range":"354","text":"261"},"Expected space(s) before \"else\".","expectedBefore",{"range":"355","text":"335"},"Expected space(s) after \"else\".",{"range":"356","text":"335"},{"range":"357","text":"261"},{"range":"358","text":"261"},{"range":"359","text":"261"},{"range":"360","text":"261"},{"range":"361","text":"261"},{"range":"362","text":"261"},[24,33],"'express'",[35,37],"\n",[74,74],[62,72],"'mongoose'",[74,76],[104,106],[140,142],[169,171],[171,173],[204,206],[216,218],[235,237],[255,257],[255,255],",",[261,263],[276,278],[295,297],[315,317],[315,315],[321,323],[332,334],[351,353],[364,365],"",[365,372],"'admin'",[374,380],"'user'",[380,381],[383,385],[398,404],[404,406],[404,404],[409,411],[409,409],[437,439],[439,441],[463,465],[503,505],[505,507],[534,536],[560,562],[588,590],[588,588],[591,593],[591,591],";",[593,595],[663,665],[679,681],[711,713],[716,718],[718,720],[739,741],[744,746],[746,748],[746,748],[748,750],[778,784],"'User'",[798,800],[800,802],[843,845],[866,868],[898,900],[903,905],[905,907],[926,928],[928,930],[994,998],[994,996],[996,998],[1014,1016]," ",[1026,1028],[1028,1030],[1044,1046],[1075,1077],[1080,1082],[1082,1084],[1119,1121],[1121,1123],[1168,1170],[1204,1204],[1222,1222],[1225,1227],[1227,1229],[1233,1233],[1248,1248],[1249,1251],[1282,1282],[1309,1309],[1312,1314],[1317,1317],[1321,1321],[1322,1324],[1353,1355],[1358,1360],[1360,1362],[1358,1362],[1365,1367]]